#!/bin/sh
. "$(dirname "$0")/_/husky.sh"

echo "ğŸ” Checking commit message with commitlint..."

npx --no -- commitlint --edit "$1"
status=$?

if [ $status -ne 0 ]; then
  echo "âŒ Commit message validation failed!"
  echo "   Please use the correct format:"
  echo "   <type>(<scope>): <subject>"
  echo ""
  echo "Examples:"
  echo "   feat(api): add endpoints for live quotes"
  echo "   fix(ui): correct modal z-index"
  echo "   refactor(utils): simplify query builder"
  exit 1
fi

echo "âœ… Commit message is valid!"
